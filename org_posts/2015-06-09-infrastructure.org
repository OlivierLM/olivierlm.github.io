
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Infrastructure Immuable - AdminSystè⋅me</title>
  <meta name="author" content="Olm">

  
  <meta name="description" content="* L'Infrastructure Immuable, c'est l'Avenir Le créateur d'[[http://r.duckduckgo.com/l/?kh=-1&uddg=http%3A%2F%2Fwww.ansible.com%2Fhome][Ansible]] en &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://olivierlm.github.io/org_posts/2015-06-09-infrastructure.org">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="AdminSystè⋅me" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet" type="text/css">
<!--- MathJax Configuration -->
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">AdminSystè⋅me</a></h1>
  
    <h2>Yes Another Sysadmin Blog</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscribe" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewbox="0 0 100 100"><path class="social" d="M 13.310204,73.332654 C 5.967347,73.332654 0,79.322448 0,86.621428 c 0,7.338776 5.967347,13.262246 13.310204,13.262246 7.370408,0 13.328572,-5.92245 13.328572,-13.262246 0,-7.29898 -5.958164,-13.288774 -13.328572,-13.288774 z M 0.01530612,33.978572 V 53.143878 C 12.493878,53.143878 24.229592,58.02347 33.068368,66.865306 41.894898,75.685714 46.767346,87.47449 46.767346,100 h 19.25 C 66.017346,63.592858 36.4,33.979592 0.01530612,33.978572 l 0,0 z M 0.03877552,0 V 19.17449 C 44.54796,19.17551 80.77551,55.437756 80.77551,100 H 100 C 100,44.87653 55.15102,0 0.03877552,0 z"></path></svg></a></li>
  
</ul>
  
  
  
  
  
  
  
  
  
  
    
      <form action="https://duckduckgo.com/" method="get">
        <fieldset role="search">
          <input type="hidden" name="sitesearch" value="olivierlm.github.io" />
    
          <input class="search" type="text" name="q" results="0" placeholder="Search"/>
        </fieldset>
      </form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">Infrastructure Immuable</h1>
      
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-06-09T11:33:43+02:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:33 am</span></time>
        
        
      </p>
    
  </header>


<div class="entry-content">* L'Infrastructure Immuable, c'est l'Avenir

Le créateur d'[[http://r.duckduckgo.com/l/?kh=-1&uddg=http%3A%2F%2Fwww.ansible.com%2Fhome][Ansible]] en perd son latin… Il voit dans l'infrastructure
immuable une utopie en passe de se réaliser grâce à des technologies
comme Docker et considère que le concept de gestion centralisée de
configuration est obsolescent…

  - NdT :: Je n'ai pas traduit les citations figurant dans le texte
           original, cependant — a contrario de celui-ci — elles sont
           mises en exergue.

*Version originale* : [[ http://michaeldehaan.net/post/118717252307/immutable-infrastructure-is-the-future][Immutable Infrastructure Is The Future]]

----

Tumblr déteste mes longs articles, alors en voilà un court.

J'aime les systèmes immuables.  Ils sont le futur.

Peut-être que c'est bizarre venant de quelqu'un qui a écrit un système
d'automatisation majeur utilisé principalement pour ne *pas* suivre
cette méthodologie ?  Essayons de rationaliser cela.

Lors de mises à jour d'ampleur, j'ai vu les optimisations que vous
devez faire pour vous assurer de ne pas mettre le feu à votre miroir
de paquetages, ou la lenteur et le manque de fiabilité d'opérer sur
l'internet.  Cela existe, vous pouvez l'optimiser, mais si vous
pouviez effectuer votre déploiement d'un simple « clic », je pense que
vous voudriez le faire.

Je ne crois pas à l'épouvantail de la dérive de configuration, mais je
crois que le seul moyen absolument sûr est de pouvoir effacer un
système dans son ensemble.  Et la seule façon de vous assurer que vous
n'y êtes pas attaché et pouvez le reconstruire dans l'urgence est de
ne ressentir aucune peur à l'idée de le faire.

Ironiquement, je *PREFÈRE* l'idée que les descriptions de
l'automatisation peuvent être écrites en =bash=, parce que dans de
telles descriptions (fichiers packer ou docker), il n'y a pas besoin
de boucles, de déclarations conditionnelles, de ces choses qui
craignent en =bash= — juste de l'installation de paquetages et des
trucs de ce genre.  *La plupart* des développeurs n'ont probablement
pas besoin d'apprendre un système d'automatisation de ce type et ils
peuvent écrire du /baby/ =bash= comme vous le taperiez dans une
console.  Assez simple.

Et l'équipe sécurité, si elle utilise un système en couches (comme
Docker), peut déployer une configuration de base de l'OS, et ils
peuvent utiliser des Dockerfiles pour construire au dessus.

Attention — je pense que les images doivent provenir d'un système de
génération.  Utiliser des images en conserve fournies par n'importe
qui comme base est imprudent.  J'étais de fait dans une /startup/ qui
en était déjà convaincu il y a de nombreuses années (rPath), mais
malheureusement elle était embourbée dans un système de paquetage
personnalisé.  Mais ils avaient un générateur d'images cool, qui
pouvait faire des images locales pour EC2 et VMware, sans avoir besoin
de démarrer des instances sur le /cloud/.  Ce que j'aime beaucoup chez
Docker comparé à disons-le, Packer.

Mais ouais, gestion de configuration ?  Qu'est-ce que ça va devenir si
je dis que le =bash= est ok ?  Le futur des systèmes de gestion de
configuration se situe dans le déploiement d'infrastructures pour le
/cloud/ sur lequel fonctionneront ensuite des systèmes immuables via
un niveau API.

Le besoin de systèmes d'orchestration pour effectuer les bascules de
version est en quelque sorte le dernier besoin résiduel qui justifie
leur présence sur le territoire des systèmes immuables.  Je recherche
des fournisseurs de /cloud/ / virtualisation qui proposeraient
éventuellement des API de déploiement continu comme flip
(instance_group, load_balancer_id, version1, version2).

Pour continuer, je considère les systèmes d'orchestration comme une
réponse au besoin d'adopter un flux de travail, de fusionner avec les
systèmes de construction, de produire des images, et peut-être
d'essayer de fournir ces API de « niveau /cluster/  » en attendant que
les /clouds/ le fassent nativement.

Pour finir la tuyauterie d'une bascule de version est quelque chose
que nous pourrions tous standardiser.  Il devrait être possible
d'écrire un livre décrivant des moyens idiomatiques pour tous les
fournisseurs de /cloud/ et la plupart ds systèmes de /cloud/ Docker,
dans l'ensemble des 3 systèmes de configuration majeurs, en je dirai
50 pages.  L'un des meilleurs exemples était la page décrivant la
bascule avec Docker présenté par Jesse Keating autour du milieu de sa
présentation.  Je pense que quelqu'un devrait le faire — la plupart
des infrastructures correspondent à ce même motif.

Je ne crois pas que les gens ne soient pas prêts pour ça.  Il existe
des étapes simples.  D'abord, assurez-vous que toutes les données de
votre système peuvent être externalisées — en utilisant RDS ou
Cassandra.  Gardez vos journaux hors de votre système.  Utilisez
quelque chose comme =logstash= ou Splunk.  Supervisez de l'extérieur.
Assurez des mises à jour au fil de l'eau avec votre système
d'automatisation classique.  Maintenant basculez simplement de votre
système habituel vers une construction d'images, reproduisant la
configuration de votre automatisation habituelle.  Vous avez terminé.


So yeah, /there’s me in the corner, losing my religion./

Les outils de configuration ont toujours leur place — dans la
construction de systèmes automatisés qui permettent de se concentrer
sur la logique métier, mais je pense qu'ils vont descendre le long de
la pile pour réaliser des choses comme l'automatisation d'Openstack.
Le futur à plus long terme sera fait de systèmes de /cloud/ /
virtualisation de ce type s'approvisionnant eux-même, mais ils sont
encore un peu trop compliqués dans leur manière de procéder à cette
évolution, mais je sens que ça vient.

Alors que PaaS n'est encore une réalité pour personne, je pense que
l'idée de pousser votre déploiement entre deux version sous la forme
d'une « API /cloud/  » sur un fournisseur de /cloud/ / virtualisation
deviendra la réalité; jusqu'à ce que cela devienne un dû, et
l'immuabilité deviendra de plus en plus naturelle au fil du temps.

Il existe des étapes faciles pour démarrer dès maintenant.

Donc ouais, est-ce que les gens vont écrire un peu moins dans les
outils de gestion de configuration ?  Oui.  Mais ils existeront
toujours sous les nuages.  En dernier lieu à la fin cela signifiera
plus de temps pour chacun pour se concentrer sur la logique métier
plutôt que de penser déploiements, c'est pourquoi je suis fan de cette
idée.

Pour moi, coder a toujours consisté à donner corps à des idées, par à
coder en tant que tel.  Je suis cool.

/Have I’ve said too much?  I’ve said enough./

</div>


  <footer>
    <p class="meta">
      
  



  <span class="byline author vcard">Authored by <span class="fn">
  
    Olm
  
  </span></span>


      




<time class='entry-date' datetime='2015-06-09T11:33:43+02:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:33 am</span></time>
      
      

<span class="categories">
  
    <a class='category' href='/blog/categories/infrastructures/'>infrastructures</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://olivierlm.github.io/org_posts/2015-06-09-infrastructure.org" data-via="" data-counturl="http://olivierlm.github.io/org_posts/2015-06-09-infrastructure.org" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
    </p>
  </footer>
</article>


</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Olm -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace">Whitespace</a></span>
</p>

</footer>
  










  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
